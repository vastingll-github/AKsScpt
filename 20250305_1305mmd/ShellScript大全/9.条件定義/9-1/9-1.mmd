<div id="globalheader-container" markdown="1" brand="hatenablog">

</div>

<div class="blog-controlls-blog-icon" markdown="1">

[![unhurried](https://cdn.image.st-hatena.com/image/square/57801854e49989fbc7619cee3bf745941ac66ad1/backend=imagemagick;height=128;version=1;width=128/https%3A%2F%2Fcdn.user.blog.st-hatena.com%2Fblog_custom_icon%2F107871561%2F1630187239440311)](https://unhurried.hatenablog.com/)

</div>

<div class="blog-controlls-title" markdown="1">

[unhurried](https://unhurried.hatenablog.com/)

</div>

<a
href="https://blog.hatena.ne.jp/unhurried/unhurried.hatenablog.com/subscribe?utm_source=blogs_topright_button&amp;utm_medium=button&amp;utm_campaign=subscribe_blog"
class="blog-controlls-subscribe-btn test-blog-header-controlls-subscribe">読者になる</a>

<div id="container" markdown="1">

<div id="container-inner" markdown="1">

<div id="blog-title" markdown="1" brand="hatenablog">

<div id="blog-title-inner" markdown="1">

<div id="blog-title-content" markdown="1">

# [unhurried](https://unhurried.hatenablog.com/) [title]

## コンピュータ関連ネタがほとんど、ときどき趣味も… [blog-description]

</div>

</div>

</div>

<div id="content" class="hfeed" markdown="1">

<div id="content-inner" markdown="1">

<div id="wrapper" markdown="1">

<div id="main" markdown="1">

<div id="main-inner" markdown="1">

<div class="entry-inner" markdown="1">

<div class="entry-content" markdown="1">

<div class="variable-mobileWeb-ad" markdown="1">

<div id="google_afc_user_container_0" class="sleeping-ad" markdown="1"
style="display: block !important;">

</div>

</div>

この広告は、90日以上更新していないブログに表示しています。

</div>

</div>

<div class="entry-inner" markdown="1">

<div class="entry-header" markdown="1">

<div class="date entry-date first" markdown="1">

<a href="https://unhurried.hatenablog.com/archive/2018/03/18"
rel="nofollow"><span class="date-year">2018</span><span
class="hyphen">-</span><span class="date-month">03</span><span
class="hyphen">-</span><span class="date-day">18</span></a>

</div>

# <a href="https://unhurried.hatenablog.com/entry/shell_regex_validation"
class="entry-title-link bookmark">シェルスクリプトでの正規表現を使ったバリデーション</a> [シェルスクリプトでの正規表現を使ったバリデーション]

</div>

<div class="entry-content hatenablog-entry" markdown="1">

#### exprコマンドを使う方法

``` code
target='aa bbcc'

# 正規表現をクォートする。
# 変数展開時はワード分割を避けるためにクォートする。
if expr "${target}" : "^a\+ [b-c]\{4\}$" > /dev/null; then
    echo "match"
fi

# 正規表現にマッチしない条件分岐をするには!を使う。
if ! expr "${target}" : "^a\+ [b-c]\{3\}$" > /dev/null; then
    echo "mismatch"
fi
```

#### `[[ ]]` 構文を使う方法（<a href="http://d.hatena.ne.jp/keyword/bash" class="keyword">bash</a>、<a href="http://d.hatena.ne.jp/keyword/zsh" class="keyword">zsh</a>など）

``` code
target='aa bbcc'

# bash: 正規表現をクォートしない。
# zsh: 正規表現をクォートする。
# 変数展開時のクォートは不要。
if [[ ${target} =~ ^a+' '[b-c]{4}$ ]]; then
    echo "match"
fi

# 正規表現にマッチしない条件分岐をするには!を使う。
if [[ ! ${target} =~ ^a+' '[b-c]{4}$ ]]; then
    echo "mismatch"
fi
```

#### 参考

-   <https://qiita.com/Linda_pp/items/31fa611766598715a172>
-   <https://fumiyas.github.io/2013/12/15/test.sh-advent-calendar.html>

</div>

<div class="entry-tags-wrapper" markdown="1">

<div class="entry-tags" markdown="1">

</div>

</div>

<span class="author vcard"><span class="fn" load-nickname="1"
user-name="unhurried">unhurried</span></span>
<span class="entry-footer-time">[2018-03-18
23:34](https://unhurried.hatenablog.com/entry/shell_regex_validation)</span>
<span class="entry-footer-subscribe" test-blog-controlls-subscribe="">
[読者になる](https://blog.hatena.ne.jp/unhurried/unhurried.hatenablog.com/subscribe?utm_medium=button&utm_campaign=subscribe_blog&utm_source=blogs_entry_footer)
</span>

<div class="hatena-star-container" markdown="1" hatena-star-container=""
hatena-star-url="https://unhurried.hatenablog.com/entry/shell_regex_validation"
hatena-star-title="シェルスクリプトでの正規表現を使ったバリデーション"
hatena-star-variant="profile-icon"
hatena-star-profile-url-template="https://blog.hatena.ne.jp/{username}/">

</div>

<div class="social-buttons" markdown="1">

<div class="social-button-item" markdown="1">

<a
href="https://b.hatena.ne.jp/entry/s/unhurried.hatenablog.com/entry/shell_regex_validation"
class="hatena-bookmark-button"
data-hatena-bookmark-url="https://unhurried.hatenablog.com/entry/shell_regex_validation"
data-hatena-bookmark-layout="vertical-balloon"
data-hatena-bookmark-lang="ja"
title="この記事をはてなブックマークに追加"><img
src="https://b.st-hatena.com/images/entry-button/button-only.gif"
style="border: none;" width="20" height="20"
alt="この記事をはてなブックマークに追加" /></a>

</div>

<div class="social-button-item" markdown="1">

<div class="fb-share-button" markdown="1" layout="box_count"
data-href="https://unhurried.hatenablog.com/entry/shell_regex_validation">

</div>

</div>

<div class="social-button-item" markdown="1">

<a
href="https://x.com/intent/tweet?text=%E3%82%B7%E3%82%A7%E3%83%AB%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%88%E3%81%A7%E3%81%AE%E6%AD%A3%E8%A6%8F%E8%A1%A8%E7%8F%BE%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E3%83%90%E3%83%AA%E3%83%87%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3+-+unhurried&amp;url=https%3A%2F%2Funhurried.hatenablog.com%2Fentry%2Fshell_regex_validation"
class="entry-share-button entry-share-button-twitter test-share-button-twitter"
title="X（Twitter）で投稿する"></a>

</div>

</div>

<div class="google-afc-image test-google-rectangle-ads" markdown="1">

<div id="google_afc_user_container_1"
class="google-afc-user-container google_afc_blocklink2_5 google_afc_boder"
markdown="1" test-unit="/4374287/blog_user">

</div>

<a href="http://blog.hatena.ne.jp/guide/pro" class="open-pro-modal"
data-guide-pro-modal-ad-url="https://hatena.blog/guide/pro/modal/ad">広告を非表示にする</a>

</div>

<div class="customized-footer" markdown="1">

<div id="entry-footer-secondary-modules" class="entry-footer-modules"
markdown="1">

</div>

</div>

<div class="comment-box js-comment-box" markdown="1">

-   もっと読む

<span class="leave-comment-title js-leave-comment-title">コメントを書く</span>

</div>

</div>

<div class="pager pager-permalink permalink" markdown="1">

<span class="pager-prev"> <a
href="https://unhurried.hatenablog.com/entry/tomcat_logging_properties"
rel="prev"><span class="pager-arrow">« </span>
Tomcatのlogging.properties設定方法</a> </span> <span class="pager-next">
<a href="https://unhurried.hatenablog.com/entry/spring_framework_beans"
rel="next">Spring FrameworkにおけるBeansとは <span class="pager-arrow">
»</span></a> </span>

</div>

</div>

</div>

<div id="box1-inner" markdown="1">

</div>

</div>

<div id="box2-inner" markdown="1">

<div class="hatena-module hatena-module-search-box" markdown="1">

<div class="hatena-module-title" markdown="1">

検索

</div>

<div class="hatena-module-body" markdown="1">

</div>

</div>

<div class="hatena-module hatena-module-html" markdown="1">

<div class="hatena-module-body" markdown="1">

[記事一覧](http://unhurried.hatenablog.com/entry/article_list)

</div>

</div>

<div class="hatena-module hatena-module-recent-entries" markdown="1">

<div class="hatena-module-title" markdown="1">

[最新記事](https://unhurried.hatenablog.com/archive)

</div>

<div class="hatena-module-body" markdown="1">

-   <div class="urllist-item-inner recent-entries-item-inner"
    markdown="1">

    <a href="https://unhurried.hatenablog.com/entry/article_list"
    class="urllist-title-link recent-entries-title-link urllist-title recent-entries-title">記事一覧</a>

    </div>

-   <div class="urllist-item-inner recent-entries-item-inner"
    markdown="1">

    <a href="https://unhurried.hatenablog.com/entry/doubles_match_table"
    class="urllist-title-link recent-entries-title-link urllist-title recent-entries-title">ダブルス対戦表作成プログラム</a>

    </div>

-   <div class="urllist-item-inner recent-entries-item-inner"
    markdown="1">

    <a
    href="https://unhurried.hatenablog.com/entry/openid_summit_tokyo_2020"
    class="urllist-title-link recent-entries-title-link urllist-title recent-entries-title">OpenID
    Summit Tokyo 2020まとめ</a>

    </div>

-   <div class="urllist-item-inner recent-entries-item-inner"
    markdown="1">

    <a href="https://unhurried.hatenablog.com/entry/dev_sumi_2019_summer"
    class="urllist-title-link recent-entries-title-link urllist-title recent-entries-title">Developer
    Summit 2019 Summerまとめ</a>

    </div>

-   <div class="urllist-item-inner recent-entries-item-inner"
    markdown="1">

    <a
    href="https://unhurried.hatenablog.com/entry/textbook_of_it_architect"
    class="urllist-title-link recent-entries-title-link urllist-title recent-entries-title">システム設計の先導者
    ITアーキテクトの教科書［改訂版］</a>

    </div>

</div>

</div>

<div class="hatena-module hatena-module-archive" markdown="1"
archive-type="default"
archive-url="https://unhurried.hatenablog.com/archive">

<div class="hatena-module-title" markdown="1">

[月別アーカイブ](https://unhurried.hatenablog.com/archive)

</div>

<div class="hatena-module-body" markdown="1">

-   <div class="archive-module-button" markdown="1">

    <span class="archive-module-hide-button">▼</span>
    <span class="archive-module-show-button">▶</span>

    </div>

    <a href="https://unhurried.hatenablog.com/archive/2021"
    class="archive-module-year-title archive-module-year-2021">2021</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2021/08"
        class="archive-module-month-title archive-module-month-2021-8">2021 /
        8</a>

-   <div class="archive-module-button" markdown="1">

    <span class="archive-module-hide-button">▼</span>
    <span class="archive-module-show-button">▶</span>

    </div>

    <a href="https://unhurried.hatenablog.com/archive/2020"
    class="archive-module-year-title archive-module-year-2020">2020</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2020/10"
        class="archive-module-month-title archive-module-month-2020-10">2020 /
        10</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2020/09"
        class="archive-module-month-title archive-module-month-2020-9">2020 /
        9</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2020/03"
        class="archive-module-month-title archive-module-month-2020-3">2020 /
        3</a>

-   <div class="archive-module-button" markdown="1">

    <span class="archive-module-hide-button">▼</span>
    <span class="archive-module-show-button">▶</span>

    </div>

    <a href="https://unhurried.hatenablog.com/archive/2019"
    class="archive-module-year-title archive-module-year-2019">2019</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2019/07"
        class="archive-module-month-title archive-module-month-2019-7">2019 /
        7</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2019/03"
        class="archive-module-month-title archive-module-month-2019-3">2019 /
        3</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2019/02"
        class="archive-module-month-title archive-module-month-2019-2">2019 /
        2</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2019/01"
        class="archive-module-month-title archive-module-month-2019-1">2019 /
        1</a>

-   <div class="archive-module-button" markdown="1">

    <span class="archive-module-hide-button">▼</span>
    <span class="archive-module-show-button">▶</span>

    </div>

    <a href="https://unhurried.hatenablog.com/archive/2018"
    class="archive-module-year-title archive-module-year-2018">2018</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2018/12"
        class="archive-module-month-title archive-module-month-2018-12">2018 /
        12</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2018/09"
        class="archive-module-month-title archive-module-month-2018-9">2018 /
        9</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2018/08"
        class="archive-module-month-title archive-module-month-2018-8">2018 /
        8</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2018/06"
        class="archive-module-month-title archive-module-month-2018-6">2018 /
        6</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2018/05"
        class="archive-module-month-title archive-module-month-2018-5">2018 /
        5</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2018/04"
        class="archive-module-month-title archive-module-month-2018-4">2018 /
        4</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2018/03"
        class="archive-module-month-title archive-module-month-2018-3">2018 /
        3</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2018/02"
        class="archive-module-month-title archive-module-month-2018-2">2018 /
        2</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2018/01"
        class="archive-module-month-title archive-module-month-2018-1">2018 /
        1</a>

-   <div class="archive-module-button" markdown="1">

    <span class="archive-module-hide-button">▼</span>
    <span class="archive-module-show-button">▶</span>

    </div>

    <a href="https://unhurried.hatenablog.com/archive/2017"
    class="archive-module-year-title archive-module-year-2017">2017</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2017/12"
        class="archive-module-month-title archive-module-month-2017-12">2017 /
        12</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2017/11"
        class="archive-module-month-title archive-module-month-2017-11">2017 /
        11</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2017/10"
        class="archive-module-month-title archive-module-month-2017-10">2017 /
        10</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2017/09"
        class="archive-module-month-title archive-module-month-2017-9">2017 /
        9</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2017/08"
        class="archive-module-month-title archive-module-month-2017-8">2017 /
        8</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2017/07"
        class="archive-module-month-title archive-module-month-2017-7">2017 /
        7</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2017/06"
        class="archive-module-month-title archive-module-month-2017-6">2017 /
        6</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2017/05"
        class="archive-module-month-title archive-module-month-2017-5">2017 /
        5</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2017/04"
        class="archive-module-month-title archive-module-month-2017-4">2017 /
        4</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2017/03"
        class="archive-module-month-title archive-module-month-2017-3">2017 /
        3</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2017/02"
        class="archive-module-month-title archive-module-month-2017-2">2017 /
        2</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2017/01"
        class="archive-module-month-title archive-module-month-2017-1">2017 /
        1</a>

-   <div class="archive-module-button" markdown="1">

    <span class="archive-module-hide-button">▼</span>
    <span class="archive-module-show-button">▶</span>

    </div>

    <a href="https://unhurried.hatenablog.com/archive/2016"
    class="archive-module-year-title archive-module-year-2016">2016</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2016/12"
        class="archive-module-month-title archive-module-month-2016-12">2016 /
        12</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2016/11"
        class="archive-module-month-title archive-module-month-2016-11">2016 /
        11</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2016/10"
        class="archive-module-month-title archive-module-month-2016-10">2016 /
        10</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2016/09"
        class="archive-module-month-title archive-module-month-2016-9">2016 /
        9</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2016/08"
        class="archive-module-month-title archive-module-month-2016-8">2016 /
        8</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2016/07"
        class="archive-module-month-title archive-module-month-2016-7">2016 /
        7</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2016/06"
        class="archive-module-month-title archive-module-month-2016-6">2016 /
        6</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2016/05"
        class="archive-module-month-title archive-module-month-2016-5">2016 /
        5</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2016/04"
        class="archive-module-month-title archive-module-month-2016-4">2016 /
        4</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2016/03"
        class="archive-module-month-title archive-module-month-2016-3">2016 /
        3</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2016/02"
        class="archive-module-month-title archive-module-month-2016-2">2016 /
        2</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2016/01"
        class="archive-module-month-title archive-module-month-2016-1">2016 /
        1</a>

-   <div class="archive-module-button" markdown="1">

    <span class="archive-module-hide-button">▼</span>
    <span class="archive-module-show-button">▶</span>

    </div>

    <a href="https://unhurried.hatenablog.com/archive/2015"
    class="archive-module-year-title archive-module-year-2015">2015</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2015/12"
        class="archive-module-month-title archive-module-month-2015-12">2015 /
        12</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2015/11"
        class="archive-module-month-title archive-module-month-2015-11">2015 /
        11</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2015/10"
        class="archive-module-month-title archive-module-month-2015-10">2015 /
        10</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2015/09"
        class="archive-module-month-title archive-module-month-2015-9">2015 /
        9</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2015/08"
        class="archive-module-month-title archive-module-month-2015-8">2015 /
        8</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2015/07"
        class="archive-module-month-title archive-module-month-2015-7">2015 /
        7</a>
    -   <a href="https://unhurried.hatenablog.com/archive/2015/06"
        class="archive-module-month-title archive-module-month-2015-6">2015 /
        6</a>

</div>

</div>

<div class="hatena-module hatena-module-links" markdown="1">

<div class="hatena-module-title" markdown="1">

リンク

</div>

<div class="hatena-module-body" markdown="1">

-   [はてなブログ](https://hatena.blog/)
-   [ブログをはじめる](https://hatena.blog/guide?via=200109)
-   [週刊はてなブログ](http://blog.hatenablog.com)
-   [はてなブログPro](https://hatena.blog/guide/pro)

</div>

</div>

</div>

</div>

</div>

</div>

</div>

<div id="footer-inner" markdown="1">

<div class="guest-footer js-guide-register test-blogs-register-guide"
markdown="1" style="display:none !important"
data-action="guide-register">

<div class="guest-footer-content" markdown="1">

### はてなブログをはじめよう！

unhurriedさんは、はてなブログを使っています。あなたもはてなブログをはじめてみませんか？

<div class="guest-footer-btn-container" markdown="1">

<div class="guest-footer-btn" markdown="1">

<a href="https://blog.hatena.ne.jp/register?via=200227"
class="btn btn-register js-inherit-ga"
target="_blank">はてなブログをはじめる（無料）</a>

</div>

<div class="guest-footer-btn" markdown="1">

<a href="https://hatena.blog/guide" target="_blank">はてなブログとは</a>

</div>

</div>

</div>

</div>

[<img
src="https://cdn.image.st-hatena.com/image/square/57801854e49989fbc7619cee3bf745941ac66ad1/backend=imagemagick;height=128;version=1;width=128/https%3A%2F%2Fcdn.user.blog.st-hatena.com%2Fblog_custom_icon%2F107871561%2F1630187239440311"
width="16" height="16" alt="unhurried" />
<span class="footer-address-name">unhurried</span>](https://unhurried.hatenablog.com/)

Powered by [Hatena Blog](https://hatena.blog/) \| <a
href="https://blog.hatena.ne.jp/-/abuse_report?target_url=https%3A%2F%2Funhurried.hatenablog.com%2Fentry%2Fshell_regex_validation"
class="report-abuse-link test-report-abuse-link"
target="_blank">ブログを報告する</a>

</div>

<div id="fb-root" markdown="1">

</div>

<div class="quote-box" markdown="1">

<div class="tooltip-quote tooltip-quote-stock" markdown="1">

</div>

<div class="tooltip-quote tooltip-quote-tweet js-tooltip-quote-tweet"
markdown="1">

<span class="js-tweet-quote" target="_blank" track-name="quote-tweet"
track-once="">![](https://cdn.blog.st-hatena.com/images/admin/quote/quote-x-icon.svg?version=1ca111bc9f0112690b12e1842a1ce8 "引用して投稿する")</span>

</div>

</div>

<div id="quote-stock-message-box" class="quote-stock-panel" markdown="1"
style="position: absolute; z-index: 3000">

<div id="quote-stock-succeeded-message" class="message-box" markdown="1"
style="display: none">

引用をストックしました

ストック一覧を見る

閉じる

</div>

<div id="quote-login-required-message" class="message-box" markdown="1"
style="display: none">

引用するにはまずログインしてください

ログイン

閉じる

</div>

<div id="quote-stock-failed-message" class="error-box" markdown="1"
style="display: none">

引用をストックできませんでした。再度お試しください

閉じる

</div>

<div id="unstockable-quote-message-box" class="error-box" markdown="1"
style="display: none; position: absolute; z-index: 3000;">

限定公開記事のため引用できません。

</div>

</div>

<div id="hidden-subscribe-button" markdown="1" style="display: none;">

<div class="hatena-follow-button-box btn-subscribe js-hatena-follow-button-box"
markdown="1">

<a href="#" class="hatena-follow-button js-hatena-follow-button"><span
class="subscribing"> <span class="foreground">読者です</span> <span
class="background">読者をやめる</span> </span> <span
class="unsubscribing" data-track-name="profile-widget-subscribe-button"
data-track-once=""> <span class="foreground">読者になる</span> <span
class="background">読者になる</span> </span></a>

<div class="subscription-count-box js-subscription-count-box"
markdown="1">

<span class="subscription-count js-subscription-count"> </span>

</div>

</div>

</div>
